{
    "$schema": "http://json-schema.org/draft-04/schema",
    "id": "https://immersive-web/gamepad-mapping/0.1.0/responses.schema.json",
    "type": "array",
    "description": "The responses array",
    "minItems": 1,
    "additionalItems": false,
    "items": {
        "anyOf":[
            {
                "type": "object",
                "additionalProperties": false,
                "required": ["target", "buttonMax"],
                "properties": {
                    "target": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/target" }] },
                    "buttonMin": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/buttonMin" }] },
                    "buttonMax": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/buttonMax" }] }
                }                
            },
            {
                "type": "object",
                "additionalProperties": false,
                "required": ["target", "left", "right", "down", "up"],
                "properties": {
                    "target": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/target" }] },
                    "left": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/left" }] },
                    "right": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/right" }] },
                    "down": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/down" }] },
                    "up": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/up" }] }
                }                
            },
            {
                "type": "object",
                "additionalProperties": false,
                "required": ["target", "left", "right", "down", "up"],
                "dependencies": {
                    "buttonMin": ["buttonMax"]
                },
                "properties": {
                    "target": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/target" }] },
                    "left": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/left" }] },
                    "right": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/right" }] },
                    "down": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/down" }] },
                    "up": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/up" }] },
                    "buttonMin": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/buttonMin" }] },
                    "buttonMax": { "allOf": [{ "$ref": "responses.properties.schema.json#/definitions/buttonMax" }] }
                }                
            }
        ]
    }
}